CREATE TABLE `report_outbound_investment` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `annual_report_id` bigint(20) DEFAULT NULL COMMENT '年报id',
  `outcompany_id` bigint(20) DEFAULT NULL COMMENT '对外投资企业id',
  `outcompany_name` varchar(255) DEFAULT NULL COMMENT '对外投资企业名称',
  `reg_num` varchar(255) DEFAULT '' COMMENT '注册号',
  `credit_code` varchar(50) DEFAULT NULL COMMENT '统一信用代码',
  `createTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `annualreport_id` (`annual_report_id`),
  KEY `idx_outcompany_name` (`outcompany_name`)
) ENGINE=InnoDB AUTO_INCREMENT=244097431 DEFAULT CHARSET=utf8 COMMENT='对外投资'

-- 表六 年报对外投资明细表 ----------------------------------------------------------------------------------------------------------------

DROP TABLE entity_annual_report_investment_details;
CREATE TABLE `entity_annual_report_investment_details` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `annual_report_year` int  COMMENT '年报年份',
  `tyc_unique_entity_id` varchar(50)  COMMENT '实体id',
  `entity_name_valid` varchar(255)  COMMENT '实体名称',
  `entity_type_id` tinyint(4)  COMMENT '实体类型',
  `annual_report_company_id_invested` varchar(50)  COMMENT '被投资实体id',
  `annual_report_company_name_invested` varchar(255)  COMMENT '被投资实体名称',
  `annual_report_company_name_invested_register_name` varchar(255)  COMMENT '被投资实体名称快照',
  `delete_status` tinyint(4) default '0' COMMENT '删除状态',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_company_year` (`tyc_unique_entity_id`,`annual_report_year`),
  KEY `idx_company_invested_company` (`tyc_unique_entity_id`,`annual_report_company_id_invested`),
  KEY `idx_invested_company` (`annual_report_company_id_invested`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='年报对外投资明细表';


drop table `ads.ads_company_base_entity_annual_report_investment_details`;
CREATE TABLE `ads.ads_company_base_entity_annual_report_investment_details` (
  `id` bigint COMMENT '主键',
  `annual_report_year` int COMMENT '年报年份',
  `tyc_unique_entity_id` string COMMENT '实体id',
  `entity_name_valid` string COMMENT '实体名称',
  `entity_type_id` int COMMENT '实体类型',
  `annual_report_company_id_invested` string COMMENT '被投资实体id',
  `annual_report_company_name_invested` string COMMENT '被投资实体名称',
  `annual_report_company_name_invested_register_name` string COMMENT '被投资实体名称快照',
  `delete_status` int COMMENT '删除状态',
  `create_time` timestamp COMMENT '创建时间',
  `update_time` timestamp COMMENT '更新时间'
)partitioned by (pt string);



